<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>
  <link href="../dist/output.css" rel="stylesheet">
  <style>
    @page {
      size: A4 landscape;
      margin: 10mm;
    }
    :root {
      --base-font-size: 8pt;
      --title-font-size: 16pt;
      --lead-font-size: 8pt;
      --profile-min-font-size: 6pt;
      --block-gap: 1.5rem;
      --block-margin: 0.5rem;
      --photo-ratio: 1;
      --text-ratio: 4;
      --photo-size: 28mm;
      --member-gap: 1.5rem;
      --title-margin-bottom: 0.5rem;
      --lead-margin-bottom: 2.5rem;
      --member-name-size: 12pt;
      --member-bio-size: 6pt;
    }
    body, .lead, .member-bio, .member-name, .title {
      hanging-punctuation: allow-end;
      text-spacing: ideograph-alpha ideograph-numeric;
      font-feature-settings: "palt" 1, "pkna" 1;
      text-wrap: pretty;
    }
    body {
      font-size: var(--base-font-size);
      margin: 0;
      box-sizing: border-box;
      font-family: 'Noto Serif JP', 'Yu Mincho', 'YuMincho', 'Hiragino Mincho ProN', 'Hiragino Mincho Pro', 'MS PMincho', 'MS Mincho', serif;
    }
    .title {
      font-size: var(--title-font-size);
      font-weight: bold;
      margin-bottom: var(--title-margin-bottom);
    }
    .lead {
      font-size: var(--lead-font-size);
      margin-bottom: var(--lead-margin-bottom);
      line-height: 1.4;
    }
    .main-cols {
      display: flex;
      flex-direction: row;
      width: 100%;
      height: 100%;
      gap: 2.5rem;
      align-items: flex-end;
    }
    .col {
      flex: 1 1 0;
      display: flex;
      flex-direction: column;
      height: 100%;
      justify-content: flex-end;
    }
    .members {
      display: flex;
      flex-direction: column;
      gap: var(--member-gap);
      justify-content: center;
      height: 100%;
    }
    .member-block {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      gap: var(--block-gap);
      min-height: var(--photo-size);
    }
    .member-photo {
      flex: 1 1 0;
      max-width: var(--photo-size);
      min-width: var(--photo-size);
      max-height: var(--photo-size);
      min-height: var(--photo-size);
      aspect-ratio: 1 / 1;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      background: #f3f3f3;
    }
    .member-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      display: block;
    }
    .member-info {
      flex: 4 1 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-width: 0;
    }
    .member-name {
      font-size: var(--member-name-size);
      font-weight: bold;
      margin-bottom: 0.6em;
      line-height: 1.2;
      word-break: break-all;
    }
    .member-bio {
      font-size: var(--member-bio-size);
      line-height: 1.6;
      word-break: break-word;
      text-align: justify;
    }
    .member-bio.shrink {
      font-size: var(--profile-min-font-size);
    }
  </style>
</head>
<body>
  <div class="main-cols">
    <!-- 左カラム -->
    <div class="col">
      <!-- タイトル -->
      <div class="title text-black"><%= title || 'タイトル未設定' %></div>
      <!-- リード文 -->
      <div class="lead text-black"><%= lead %></div>
      <div class="members">
        <% members.slice(0, 5).forEach(function(member) { %>
          <div class="member-block">
            <div class="member-photo">
              <img src="<%= member.photo %>" alt="<%= member.name %>">
            </div>
            <div class="member-info">
              <div class="member-name text-black"><%= member.name %></div>
              <div class="member-bio text-black"><%= member.bio %></div>
            </div>
          </div>
        <% }); %>
      </div>
    </div>
    <!-- 右カラム -->
    <div class="col">
      <div class="members">
        <% members.slice(5, 10).forEach(function(member) { %>
          <div class="member-block">
            <div class="member-photo">
              <img src="<%= member.photo %>" alt="<%= member.name %>">
            </div>
            <div class="member-info">
              <div class="member-name text-black"><%= member.name %></div>
              <div class="member-bio text-black"><%= member.bio %></div>
            </div>
          </div>
        <% }); %>
      </div>
    </div>
  </div>
</body>
</html>